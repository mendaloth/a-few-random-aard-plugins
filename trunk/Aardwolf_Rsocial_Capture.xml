<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Wednesday, August 06, 2008, 1:13 PM -->
<!-- MuClient version 4.35 -->

<!-- Plugin "Consider_info" generated by Plugin Wizard -->

<muclient>
<plugin
   name="Aardwolf_Rsocial_Capture"
   author="Mendaloth"
   id="6332fad9bd93c3f6ce9ca16f"
   language="Lua"
   purpose="Sends Rsocials to Fiendish's chat log."
   date_written="2008-10-15 07:35"
   requires="4.30"
   version="1.0"
   save_state="y"
   >
<description trim="y">
<![CDATA[

]]>
</description>

</plugin>


<!--  Triggers  -->

<triggers>

 <trigger
   enabled="y"
   match="^\*[A-Z](.*?)$"
   regexp="y"
   omit_from_output="n"
   script="Process_Rsocial_Line"
   sequence="10"
  >
  </trigger>
</triggers>

<aliases>

</aliases>



<!--  Script  -->


<script>
<![CDATA[

-- functions for handling Aardwolf color codes
-- required to send color codes to Fiendish's Chat window
dofile(GetInfo (66) .. "\\worlds\\plugins\\" .. "aardwolf_colors.lua")

function Process_Rsocial_Line(_, _, _, styles)
	local styles_to_colors = StylesToColoursOneLine(styles)
	
	
	local first_four_chars = string.sub(styles_to_colors, 1, 4)
	
	--Socials will always start with @c*@ if a remote social or @M*@ if it is a random remote social
	--put this in to help cut down on non-socials ending up in the chat log...
	if (first_four_chars == "@c*@" or first_four_chars == "@M*@") then
		CallPlugin("b555825a4a5700c35fa80780","storeFromOutside",styles_to_colors)
	end
end
]]>
</script>

</muclient>